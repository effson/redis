## 跳表在 Redis 的用途
跳表（zskiplist）是 Sorted Set（有序集合，Zset）的一种底层实现。Zset 有两个底层结构：
- ziplist / listpack（紧凑列表），旧版本是 ziplist，从 Redis 7 开始用 listpack 替代。当元素少（zset-max-listpack-entries，默认 128）且成员字符串较短（zset-max-listpack-value，默认 64字节），会用这种节省内存的紧凑结构
- skiplist + dict（跳表 + 哈希表），


<img width="1074" height="101" alt="image" src="https://github.com/user-attachments/assets/deba09c4-5bac-4381-9003-753643dfc4e4" />


## 源码
> src/server.h
```c
/* ZSETs use a specialized version of Skiplists */
typedef struct zskiplistNode {
    sds ele;
    double score;
    struct zskiplistNode *backward;
    struct zskiplistLevel {
        struct zskiplistNode *forward;
        unsigned long span;
    } level[];
} zskiplistNode;

typedef struct zskiplist {
    struct zskiplistNode *header, *tail;
    unsigned long length;
    int level;
} zskiplist;

typedef struct zset {
    dict *dict;
    zskiplist *zsl;
} zset;
```
